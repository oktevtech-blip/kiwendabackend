(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var s=r(95155);r(12115);var a=r(74466),n=r(59434);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},26970:(e,t,r)=>{Promise.resolve().then(r.bind(r,73092))},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>i});var s=r(95155),a=r(12115),n=r(99708),l=r(74466),o=r(59434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(52596),a=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>o,wL:()=>u});var s=r(95155),a=r(12115),n=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},73092:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var s=r(95155),a=r(12115),n=r(30285),l=r(66695),o=r(83540),i=r(94517),d=r(24026),c=r(59434);let u={light:"",dark:".dark"},f=a.createContext(null);function m(){let e=a.useContext(f);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let x=a.forwardRef((e,t)=>{let{id:r,className:n,children:l,config:i,...d}=e,u=a.useId(),m="chart-".concat(r||u.replace(/:/g,""));return(0,s.jsx)(f.Provider,{value:{config:i},children:(0,s.jsxs)("div",{"data-chart":m,ref:t,className:(0,c.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...d,children:[(0,s.jsx)(h,{id:m,config:i}),(0,s.jsx)(o.u,{children:l})]})})});x.displayName="Chart";let h=e=>{let{id:t,config:r}=e,a=Object.entries(r).filter(e=>{let[,t]=e;return t.theme||t.color});return a.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(u).map(e=>{let[r,s]=e;return"\n".concat(s," [data-chart=").concat(t,"] {\n").concat(a.map(e=>{var t;let[s,a]=e,n=(null==(t=a.theme)?void 0:t[r])||a.color;return n?"  --color-".concat(s,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},g=i.m,p=a.forwardRef((e,t)=>{let{active:r,payload:n,className:l,indicator:o="dot",hideLabel:i=!1,hideIndicator:d=!1,label:u,labelFormatter:f,labelClassName:x,formatter:h,color:g,nameKey:p,labelKey:v}=e,{config:b}=m(),y=a.useMemo(()=>{var e;if(i||!(null==n?void 0:n.length))return null;let[t]=n,r="".concat(v||t.dataKey||t.name||"value"),a=j(b,t,r),l=v||"string"!=typeof u?null==a?void 0:a.label:(null==(e=b[u])?void 0:e.label)||u;return f?(0,s.jsx)("div",{className:(0,c.cn)("font-medium",x),children:f(l,n)}):l?(0,s.jsx)("div",{className:(0,c.cn)("font-medium",x),children:l}):null},[u,f,n,i,x,b,v]);if(!r||!(null==n?void 0:n.length))return null;let N=1===n.length&&"dot"!==o;return(0,s.jsxs)("div",{ref:t,className:(0,c.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",l),children:[N?null:y,(0,s.jsx)("div",{className:"grid gap-1.5",children:n.map((e,t)=>{let r="".concat(p||e.name||e.dataKey||"value"),a=j(b,e,r),n=g||e.payload.fill||e.color;return(0,s.jsx)("div",{className:(0,c.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,s.jsxs)(s.Fragment,{children:[(null==a?void 0:a.icon)?(0,s.jsx)(a.icon,{}):!d&&(0,s.jsx)("div",{className:(0,c.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":N&&"dashed"===o}),style:{"--color-bg":n,"--color-border":n}}),(0,s.jsxs)("div",{className:(0,c.cn)("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[N?y:null,(0,s.jsx)("span",{className:"text-muted-foreground",children:(null==a?void 0:a.label)||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function j(e,t,r){if("object"!=typeof t||null===t)return;let s="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,a=r;return r in t&&"string"==typeof t[r]?a=t[r]:s&&r in s&&"string"==typeof s[r]&&(a=s[r]),a in e?e[a]:e[r]}p.displayName="ChartTooltip",d.s,a.forwardRef((e,t)=>{let{className:r,hideIcon:a=!1,payload:n,verticalAlign:l="bottom",nameKey:o}=e,{config:i}=m();return(null==n?void 0:n.length)?(0,s.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center justify-center gap-4","top"===l?"pb-3":"pt-3",r),children:n.map(e=>{let t="".concat(o||e.dataKey||"value"),r=j(i,e,t);return(0,s.jsxs)("div",{className:(0,c.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==r?void 0:r.icon)&&!a?(0,s.jsx)(r.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==r?void 0:r.label]},e.value)})}):null}).displayName="ChartLegend";var v=r(93774),b=r(94754),y=r(96025),N=r(16238),w=r(17398),k=r(98328),_=r(70018),R=r(34301),A=r(79311),C=r(17607),T=r(6874),B=r.n(T),S=r(85127),E=r(26126);function Z(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[d,c]=(0,a.useState)(!0),[u,f]=(0,a.useState)(0),[m,h]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:5000/analytics/visits-summary"),t=await e.json();Array.isArray(t)?i(t):(null==t?void 0:t.data)&&i(t.data)}catch(e){console.error("Error fetching analytics:",e)}};(async()=>{try{let e=await fetch("http://localhost:5000/upcoming-appointments"),r=await e.json();if(null==r?void 0:r.data){let e=r.data,s=new Date,a=new Date;a.setDate(s.getDate()+7);let n=e.filter(e=>{let t=new Date(e.appointment_time);return t>=s&&t<=a});f(n.length),t(n)}}catch(e){console.error("Error fetching appointments:",e)}finally{c(!1)}})(),e()},[]),(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:5000/contacts/unread-count"),t=await e.json();h(t.count)}catch(e){console.error("Error fetching unread messages count:",e)}})()},[]),(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"New Appointments"}),(0,s.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:d?"...":"+".concat(u)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"in the next 7 days"})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"New Messages"}),(0,s.jsx)(_.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["+",m]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"unread inquiries"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-5",children:[(0,s.jsxs)(l.Zp,{className:"col-span-1 lg:col-span-3",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{className:"font-headline",children:"Most Viewed Services"}),(0,s.jsx)(l.BT,{children:"A look at which services are getting the most attention."})]}),(0,s.jsx)(l.Wu,{children:r.length>0?(0,s.jsx)(x,{config:{views:{label:"Views"}},className:"min-h-[200px] w-full",children:(0,s.jsx)(o.u,{width:"100%",height:300,children:(0,s.jsxs)(v.E,{data:r,margin:{top:20,right:20,bottom:5,left:0},children:[(0,s.jsx)(b.d,{vertical:!1}),(0,s.jsx)(y.W,{dataKey:"service",tickLine:!1,tickMargin:10,axisLine:!1,tickFormatter:e=>e.slice(0,3)}),(0,s.jsx)(N.h,{}),(0,s.jsx)(g,{cursor:!1,content:(0,s.jsx)(p,{})}),(0,s.jsx)(w.y,{dataKey:"views",radius:4})]})})}):(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"No analytics data available yet."})})]}),(0,s.jsxs)(l.Zp,{className:"col-span-1 lg:col-span-2",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{className:"font-headline",children:"Quick Actions"}),(0,s.jsx)(l.BT,{children:"Get started with common tasks."})]}),(0,s.jsxs)(l.Wu,{className:"grid gap-2",children:[(0,s.jsx)(n.$,{asChild:!0,children:(0,s.jsxs)(B(),{href:"/services/new",children:[(0,s.jsx)(R.A,{})," Add New Service"]})}),(0,s.jsx)(n.$,{asChild:!0,variant:"secondary",children:(0,s.jsxs)(B(),{href:"/gallery",children:[(0,s.jsx)(A.A,{})," Add Image to Gallery"]})}),(0,s.jsx)(n.$,{asChild:!0,variant:"secondary",children:(0,s.jsxs)(B(),{href:"/messages",children:[(0,s.jsx)(C.A,{})," View Messages"]})})]})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{className:"font-headline",children:"Upcoming Appointments"}),(0,s.jsx)(l.BT,{children:"A summary of appointments scheduled for the next 7 days."})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)(S.XI,{children:[(0,s.jsx)(S.A0,{children:(0,s.jsxs)(S.Hj,{children:[(0,s.jsx)(S.nd,{children:"Patient"}),(0,s.jsx)(S.nd,{children:"Service"}),(0,s.jsx)(S.nd,{className:"text-right",children:"Time"})]})}),(0,s.jsx)(S.BF,{children:d?(0,s.jsx)(S.Hj,{children:(0,s.jsx)(S.nA,{colSpan:3,className:"text-center text-muted-foreground",children:"Loading..."})}):e.length>0?e.map(e=>(0,s.jsxs)(S.Hj,{children:[(0,s.jsx)(S.nA,{className:"font-medium",children:e.patient_name}),(0,s.jsx)(S.nA,{children:(0,s.jsx)(E.E,{variant:"outline",children:e.service})}),(0,s.jsx)(S.nA,{className:"text-right",children:new Date(e.appointment_time).toLocaleString()})]},e.id)):(0,s.jsx)(S.Hj,{children:(0,s.jsx)(S.nA,{colSpan:3,className:"text-center text-muted-foreground",children:"No appointments in the next 7 days."})})})]})})]})]})}},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>i,Hj:()=>d,XI:()=>l,nA:()=>u,nd:()=>c});var s=r(95155),a=r(12115),n=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...a})})});l.displayName="Table";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...a})});o.displayName="TableHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});i.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});d.displayName="TableRow";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});c.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,6874,8109,8441,1684,7358],()=>t(26970)),_N_E=e.O()}]);