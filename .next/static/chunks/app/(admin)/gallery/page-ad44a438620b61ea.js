(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4598],{16923:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(30280).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>l});var r=a(95155),s=a(12115),n=a(99708),i=a(74466),o=a(59434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button"},38350:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(30280).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},44838:(e,t,a)=>{"use strict";a.d(t,{DropdownMenu:()=>c,DropdownMenuContent:()=>m,DropdownMenuItem:()=>p,DropdownMenuLabel:()=>g,DropdownMenuTrigger:()=>u,I:()=>f,mB:()=>h});var r=a(95155),s=a(12115),n=a(48698),i=a(73158),o=a(10518),l=a(70154),d=a(59434);let c=n.bL,u=n.l9,f=n.YJ;n.ZL,n.Pb,n.z6,s.forwardRef((e,t)=>{let{className:a,inset:s,children:o,...l}=e;return(0,r.jsxs)(n.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...l,children:[o,(0,r.jsx)(i.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=n.G5.displayName;let m=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});m.displayName=n.UC.displayName;let p=s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...i})});p.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:i,...l}=e;return(0,r.jsxs)(n.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(n.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(l.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName;let g=s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...i})});g.displayName=n.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});h.displayName=n.wv.displayName},53824:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(95155),s=a(12115),n=a(66766),i=a(6874),o=a.n(i),l=a(66695),d=a(30285),c=a(97413),u=a(44838),f=a(16923),m=a(38350);let p="http://localhost:5000";function g(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(["All"]),[g,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(p,"/gallery"));if(!e.ok)throw Error("Failed to fetch images");let a=await e.json();t(a);let r=Array.from(new Set(a.map(e=>e.category))).filter(Boolean);i(["All",...r])}catch(e){console.error("Error fetching gallery:",e)}finally{h(!1)}})()},[]);let x=async e=>{if(!e)return alert("Invalid image ID");if(confirm("Are you sure you want to delete this image?"))try{if(!(await fetch("".concat(p,"/gallery/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete image");t(t=>t.filter(t=>t.image_id!==e)),alert("Image deleted successfully")}catch(e){console.error("Error deleting image:",e),alert("Failed to delete image")}};return g?(0,r.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,r.jsx)("p",{className:"text-muted-foreground text-lg",children:"Loading gallery..."})}):e.length?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-headline text-2xl font-bold tracking-tight",children:"Image Gallery Manager"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Upload, update, or remove photos from your website."})]}),(0,r.jsx)(d.$,{asChild:!0,children:(0,r.jsxs)(o(),{href:"/gallery/new",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Upload Image"]})})]}),(0,r.jsxs)(c.Tabs,{defaultValue:"All",className:"w-full",children:[(0,r.jsx)(c.TabsList,{children:a.map(e=>(0,r.jsx)(c.TabsTrigger,{value:e,children:e},e))}),a.map(t=>(0,r.jsx)(c.TabsContent,{value:t,children:(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:e.filter(e=>"All"===t||e.category===t).map((e,t)=>{var a,s,i,o;return(0,r.jsxs)(l.Zp,{className:"group overflow-hidden",children:[(0,r.jsxs)(l.Wu,{className:"relative p-0",children:[(0,r.jsx)(n.default,{src:"".concat(p).concat(e.image_url),alt:null!=(a=e.title)?a:"Gallery image",width:600,height:400,className:"aspect-video w-full object-cover transition-transform duration-300 group-hover:scale-105"}),(0,r.jsx)("div",{className:"absolute right-2 top-2",children:(0,r.jsxs)(u.DropdownMenu,{children:[(0,r.jsx)(u.DropdownMenuTrigger,{asChild:!0,children:(0,r.jsx)(d.$,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full bg-background/70 hover:bg-background",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})}),(0,r.jsx)(u.DropdownMenuContent,{align:"end",children:(0,r.jsx)(u.DropdownMenuItem,{className:"text-destructive cursor-pointer",onClick:()=>x(e.image_id),children:"Delete Image"})})]})})]}),(0,r.jsx)(l.wL,{className:"p-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:null!=(s=e.title)?s:"Untitled"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:null!=(i=e.category)?i:"Uncategorized"})]})})]},null!=(o=e.image_id)?o:t)})})},t))]})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[60vh] space-y-4",children:[(0,r.jsx)("p",{className:"text-muted-foreground text-lg",children:"No images found."}),(0,r.jsx)(d.$,{asChild:!0,children:(0,r.jsxs)(o(),{href:"/gallery/new",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Upload New Image"]})})]})}},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(52596),s=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var r=a(95155),s=a(12115),n=a(59434);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},66766:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(71469),s=a.n(r)},71469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return l},getImageProps:function(){return o}});let r=a(88229),s=a(38883),n=a(33063),i=r._(a(51193));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let l=n.Image},82972:(e,t,a)=>{Promise.resolve().then(a.bind(a,53824))},97413:(e,t,a)=>{"use strict";a.d(t,{Tabs:()=>D,TabsContent:()=>z,TabsList:()=>T,TabsTrigger:()=>I});var r=a(95155),s=a(12115),n=a(85185),i=a(46081),o=a(89196),l=a(28905),d=a(63655),c=a(94315),u=a(5845),f=a(61285),m="Tabs",[p,g]=(0,i.A)(m,[o.RG]),h=(0,o.RG)(),[x,v]=p(m),b=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:p="automatic",...g}=e,h=(0,c.jH)(l),[v,b]=(0,u.i)({prop:s,onChange:n,defaultProp:null!=i?i:"",caller:m});return(0,r.jsx)(x,{scope:a,baseId:(0,f.B)(),value:v,onValueChange:b,orientation:o,dir:h,activationMode:p,children:(0,r.jsx)(d.sG.div,{dir:h,"data-orientation":o,...g,ref:t})})});b.displayName=m;var y="TabsList",N=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,i=v(y,a),l=h(a);return(0,r.jsx)(o.bL,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:(0,r.jsx)(d.sG.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});N.displayName=y;var j="TabsTrigger",w=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:i=!1,...l}=e,c=v(j,a),u=h(a),f=R(c.baseId,s),m=_(c.baseId,s),p=s===c.value;return(0,r.jsx)(o.q7,{asChild:!0,...u,focusable:!i,active:p,children:(0,r.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...l,ref:t,onMouseDown:(0,n.mK)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,n.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,n.mK)(e.onFocus,()=>{let e="manual"!==c.activationMode;p||i||!e||c.onValueChange(s)})})})});w.displayName=j;var k="TabsContent",C=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:i,children:o,...c}=e,u=v(k,a),f=R(u.baseId,n),m=_(u.baseId,n),p=n===u.value,g=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(l.C,{present:i||p,children:a=>{let{present:s}=a;return(0,r.jsx)(d.sG.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!s,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:s&&o})}})});function R(e,t){return"".concat(e,"-trigger-").concat(t)}function _(e,t){return"".concat(e,"-content-").concat(t)}C.displayName=k;var A=a(59434);let D=b,T=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(N,{ref:t,className:(0,A.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});T.displayName=N.displayName;let I=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(w,{ref:t,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});I.displayName=w.displayName;let z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C,{ref:t,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});z.displayName=C.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,8178,7840,8782,3596,6874,8441,1684,7358],()=>t(82972)),_N_E=e.O()}]);