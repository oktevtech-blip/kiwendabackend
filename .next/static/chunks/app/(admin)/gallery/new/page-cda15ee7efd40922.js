(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9255],{6101:(e,r,t)=>{"use strict";t.d(r,{s:()=>s,t:()=>a});var l=t(12115);function n(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function a(...e){return r=>{let t=!1,l=e.map(e=>{let l=n(e,r);return t||"function"!=typeof l||(t=!0),l});if(t)return()=>{for(let r=0;r<l.length;r++){let t=l[r];"function"==typeof t?t():n(e[r],null)}}}}function s(...e){return l.useCallback(a(...e),e)}},8013:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var l=t(95155),n=t(90221),a=t(62177),s=t(70927),i=t(30285),o=t(17759),d=t(62523),c=t(66695),u=t(12543),f=t(35695),m=t(12115);let p=s.Ik({title:s.Yj().min(1,{message:"Title is required."}),alt:s.Yj().min(1,{message:"Alt text is required."}),category:s.Yj().min(1,{message:"Category is required."}),image:s.bz()});function g(){let e=(0,f.useRouter)(),[r,t]=(0,m.useState)(!1),s=(0,a.mN)({resolver:(0,n.u)(p),defaultValues:{title:"",alt:"",category:""}});async function g(r){let t=new FormData;t.append("title",r.title),t.append("category",r.category),t.append("uploaded_by","1"),r.image&&r.image[0]&&t.append("image",r.image[0]);try{let r=await fetch("http://localhost:5000/gallery/upload",{method:"POST",body:t});if(!r.ok){let e=await r.text();console.error("Upload failed:",e),alert("Image upload failed!");return}let l=await r.json();console.log("Upload successful:",l),alert("Image uploaded successfully!"),e.push("/gallery")}catch(e){console.error("Upload error:",e)}}return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(i.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e.back(),children:[(0,l.jsx)(u.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Back"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"font-headline text-xl font-bold tracking-tight",children:"Upload a New Image"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Fill out the details for the new image."})]})]}),(0,l.jsx)(c.Zp,{children:(0,l.jsx)(c.Wu,{className:"pt-6",children:(0,l.jsx)(o.lV,{...s,children:(0,l.jsxs)("form",{onSubmit:s.handleSubmit(g),className:"space-y-8",encType:"multipart/form-data",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[(0,l.jsx)("div",{className:"col-span-1 space-y-8 md:col-span-2",children:(0,l.jsx)("div",{className:"space-y-2",children:(0,l.jsx)(o.zB,{control:s.control,name:"image",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Image File"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(d.p,{type:"file",accept:"image/*",onChange:e=>r.onChange(e.target.files)})}),(0,l.jsx)(o.Rr,{children:"Select an image file to upload."}),(0,l.jsx)(o.C5,{})]})}})})}),(0,l.jsxs)("div",{className:"col-span-1 space-y-8",children:[(0,l.jsx)(o.zB,{control:s.control,name:"title",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Image Title"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(d.p,{placeholder:"e.g., Physical Therapy Session",...r})}),(0,l.jsx)(o.Rr,{children:"A title for the image to be displayed in the gallery."}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:s.control,name:"alt",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Alt Text"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(d.p,{placeholder:"e.g., A smiling patient",...r})}),(0,l.jsx)(o.Rr,{children:"A short, descriptive text for screen readers."}),(0,l.jsx)(o.C5,{})]})}}),(0,l.jsx)(o.zB,{control:s.control,name:"category",render:e=>{let{field:r}=e;return(0,l.jsxs)(o.eI,{children:[(0,l.jsx)(o.lR,{children:"Category"}),(0,l.jsx)(o.MJ,{children:(0,l.jsx)(d.p,{placeholder:"e.g., Facility",...r})}),(0,l.jsx)(o.Rr,{children:"Helps group similar images together."}),(0,l.jsx)(o.C5,{})]})}})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(i.$,{variant:"outline",type:"button",onClick:()=>e.push("/gallery"),children:"Cancel"}),(0,l.jsx)(i.$,{type:"submit",disabled:r,children:r?"Uploading...":"Upload Image"})]})]})})})})]})}},17759:(e,r,t)=>{"use strict";t.d(r,{C5:()=>y,MJ:()=>x,Rr:()=>h,eI:()=>p,lR:()=>g,lV:()=>d,zB:()=>u});var l=t(95155),n=t(12115),a=t(99708),s=t(62177),i=t(59434),o=t(85057);let d=s.Op,c=n.createContext({}),u=e=>{let{...r}=e;return(0,l.jsx)(c.Provider,{value:{name:r.name},children:(0,l.jsx)(s.xI,{...r})})},f=()=>{let e=n.useContext(c),r=n.useContext(m),{getFieldState:t,formState:l}=(0,s.xW)(),a=t(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},m=n.createContext({}),p=n.forwardRef((e,r)=>{let{className:t,...a}=e,s=n.useId();return(0,l.jsx)(m.Provider,{value:{id:s},children:(0,l.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...a})})});p.displayName="FormItem";let g=n.forwardRef((e,r)=>{let{className:t,...n}=e,{error:a,formItemId:s}=f();return(0,l.jsx)(o.Label,{ref:r,className:(0,i.cn)(a&&"text-destructive",t),htmlFor:s,...n})});g.displayName="FormLabel";let x=n.forwardRef((e,r)=>{let{...t}=e,{error:n,formItemId:s,formDescriptionId:i,formMessageId:o}=f();return(0,l.jsx)(a.DX,{ref:r,id:s,"aria-describedby":n?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!n,...t})});x.displayName="FormControl";let h=n.forwardRef((e,r)=>{let{className:t,...n}=e,{formDescriptionId:a}=f();return(0,l.jsx)("p",{ref:r,id:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...n})});h.displayName="FormDescription";let y=n.forwardRef((e,r)=>{var t;let{className:n,children:a,...s}=e,{error:o,formMessageId:d}=f(),c=o?String(null!=(t=null==o?void 0:o.message)?t:""):a;return c?(0,l.jsx)("p",{ref:r,id:d,className:(0,i.cn)("text-sm font-medium text-destructive",n),...s,children:c}):null});y.displayName="FormMessage"},30280:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var l=t(12115),n=t(40719),a=t(47412);let s=(e,r)=>{let t=(0,l.forwardRef)((t,s)=>{let{className:i,...o}=t;return(0,l.createElement)(a.A,{ref:s,iconNode:r,className:(0,n.z)("lucide-".concat((0,n.f)(e)),i),...o})});return t.displayName="".concat(e),t}},30285:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>o});var l=t(95155),n=t(12115),a=t(99708),s=t(74466),i=t(59434);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,r)=>{let{className:t,variant:n,size:s,asChild:d=!1,...c}=e,u=d?a.DX:"button";return(0,l.jsx)(u,{className:(0,i.cn)(o({variant:n,size:s,className:t})),ref:r,...c})});d.displayName="Button"},40170:(e,r,t)=>{Promise.resolve().then(t.bind(t,8013))},40719:(e,r,t)=>{"use strict";t.d(r,{f:()=>l,z:()=>n});let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()}},47412:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var l=t(12115),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},a=t(40719);let s=(0,l.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...f}=e;return(0,l.createElement)("svg",{ref:r,...n,width:s,height:s,stroke:t,strokeWidth:o?24*Number(i)/Number(s):i,className:(0,a.z)("lucide",d),...f},[...u.map(e=>{let[r,t]=e;return(0,l.createElement)(r,t)}),...Array.isArray(c)?c:[c]])})},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var l=t(52596),n=t(39688);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,l.$)(r))}},62523:(e,r,t)=>{"use strict";t.d(r,{p:()=>s});var l=t(95155),n=t(12115),a=t(59434);let s=n.forwardRef((e,r)=>{let{className:t,type:n,...s}=e;return(0,l.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s})});s.displayName="Input"},63655:(e,r,t)=>{"use strict";t.d(r,{hO:()=>o,sG:()=>i});var l=t(12115),n=t(47650),a=t(99708),s=t(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,a.TL)(`Primitive.${r}`),n=l.forwardRef((e,l)=>{let{asChild:n,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(n?t:r,{...a,ref:l})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function o(e,r){e&&n.flushSync(()=>e.dispatchEvent(r))}},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>s,aR:()=>i,wL:()=>u});var l=t(95155),n=t(12115),a=t(59434);let s=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,l.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});s.displayName="Card";let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,l.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,l.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,l.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,l.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...n})});c.displayName="CardContent";let u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,l.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})});u.displayName="CardFooter"},85057:(e,r,t)=>{"use strict";t.d(r,{Label:()=>d});var l=t(95155),n=t(12115),a=t(40968),s=t(74466),i=t(59434);let o=(0,s.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,l.jsx)(a.b,{ref:r,className:(0,i.cn)(o(),t),...n})});d.displayName=a.b.displayName},99708:(e,r,t)=>{"use strict";t.d(r,{DX:()=>i,Dc:()=>d,TL:()=>s});var l=t(12115),n=t(6101),a=t(95155);function s(e){let r=function(e){let r=l.forwardRef((e,r)=>{let{children:t,...a}=e;if(l.isValidElement(t)){var s;let e,i,o=(s=t,(i=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(i=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),d=function(e,r){let t={...r};for(let l in r){let n=e[l],a=r[l];/^on[A-Z]/.test(l)?n&&a?t[l]=(...e)=>{let r=a(...e);return n(...e),r}:n&&(t[l]=n):"style"===l?t[l]={...n,...a}:"className"===l&&(t[l]=[n,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==l.Fragment&&(d.ref=r?(0,n.t)(r,o):o),l.cloneElement(t,d)}return l.Children.count(t)>1?l.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=l.forwardRef((e,t)=>{let{children:n,...s}=e,i=l.Children.toArray(n),o=i.find(c);if(o){let e=o.props.children,n=i.map(r=>r!==o?r:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...s,ref:t,children:l.isValidElement(e)?l.cloneElement(e,void 0,n):null})}return(0,a.jsx)(r,{...s,ref:t,children:n})});return t.displayName=`${e}.Slot`,t}var i=s("Slot"),o=Symbol("radix.slottable");function d(e){let r=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});return r.displayName=`${e}.Slottable`,r.__radixId=o,r}function c(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}}},e=>{var r=r=>e(e.s=r);e.O(0,[4277,3471,8441,1684,7358],()=>r(40170)),_N_E=e.O()}]);