(()=>{var e={};e.id=598,e.ids=[598],e.modules={2452:(e,t,r)=>{Promise.resolve().then(r.bind(r,69458))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29844:(e,t,r)=>{"use strict";r.d(t,{Tabs:()=>L,TabsContent:()=>T,TabsList:()=>A,TabsTrigger:()=>R});var a=r(60687),s=r(43210),i=r(70569),n=r(11273),o=r(72942),l=r(46059),d=r(14163),c=r(43),u=r(65551),m=r(96963),p="Tabs",[f,g]=(0,n.A)(p,[o.RG]),x=(0,o.RG)(),[h,v]=f(p),b=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:i,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:f="automatic",...g}=e,x=(0,c.jH)(l),[v,b]=(0,u.i)({prop:s,onChange:i,defaultProp:n??"",caller:p});return(0,a.jsx)(h,{scope:r,baseId:(0,m.B)(),value:v,onValueChange:b,orientation:o,dir:x,activationMode:f,children:(0,a.jsx)(d.sG.div,{dir:x,"data-orientation":o,...g,ref:t})})});b.displayName=p;var y="TabsList",j=s.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...i}=e,n=v(y,r),l=x(r);return(0,a.jsx)(o.bL,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:s,children:(0,a.jsx)(d.sG.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:t})})});j.displayName=y;var w="TabsTrigger",N=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:n=!1,...l}=e,c=v(w,r),u=x(r),m=D(c.baseId,s),p=_(c.baseId,s),f=s===c.value;return(0,a.jsx)(o.q7,{asChild:!0,...u,focusable:!n,active:f,children:(0,a.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:m,...l,ref:t,onMouseDown:(0,i.mK)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,i.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,i.mK)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||n||!e||c.onValueChange(s)})})})});N.displayName=w;var k="TabsContent",C=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:n,children:o,...c}=e,u=v(k,r),m=D(u.baseId,i),p=_(u.baseId,i),f=i===u.value,g=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(l.C,{present:n||f,children:({present:r})=>(0,a.jsx)(d.sG.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:r&&o})})});function D(e,t){return`${e}-trigger-${t}`}function _(e,t){return`${e}-content-${t}`}C.displayName=k;var P=r(4780);let L=b,A=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(j,{ref:r,className:(0,P.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));A.displayName=j.displayName;let R=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(N,{ref:r,className:(0,P.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));R.displayName=N.displayName;let T=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(C,{ref:r,className:(0,P.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));T.displayName=C.displayName},30474:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(31261),s=r.n(a)},31261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let a=r(14985),s=r(44953),i=r(46533),n=a._(r(1933));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=i.Image},33873:e=>{"use strict";e.exports=require("path")},42668:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(65239),s=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["(admin)",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,84764)),"C:\\Users\\DELL\\OneDrive\\Desktop\\kiwenda_complete\\kiwenda\\src\\app\\(admin)\\gallery\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,10814)),"C:\\Users\\DELL\\OneDrive\\Desktop\\kiwenda_complete\\kiwenda\\src\\app\\(admin)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\DELL\\OneDrive\\Desktop\\kiwenda_complete\\kiwenda\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\DELL\\OneDrive\\Desktop\\kiwenda_complete\\kiwenda\\src\\app\\(admin)\\gallery\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(admin)/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o,wL:()=>u});var a=r(60687),s=r(43210),i=r(4780);let n=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},52374:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2146).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69458:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(60687),s=r(43210),i=r(30474),n=r(85814),o=r.n(n),l=r(44493),d=r(29523),c=r(29844),u=r(21342),m=r(83729),p=r(52374);let f="http://localhost:5000";function g(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(["All"]),[g,x]=(0,s.useState)(!0),h=async e=>{if(!e)return alert("Invalid image ID");if(confirm("Are you sure you want to delete this image?"))try{if(!(await fetch(`${f}/gallery/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete image");t(t=>t.filter(t=>t.image_id!==e)),alert("Image deleted successfully")}catch(e){console.error("Error deleting image:",e),alert("Failed to delete image")}};return g?(0,a.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"Loading gallery..."})}):e.length?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-headline text-2xl font-bold tracking-tight",children:"Image Gallery Manager"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Upload, update, or remove photos from your website."})]}),(0,a.jsx)(d.$,{asChild:!0,children:(0,a.jsxs)(o(),{href:"/gallery/new",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Upload Image"]})})]}),(0,a.jsxs)(c.Tabs,{defaultValue:"All",className:"w-full",children:[(0,a.jsx)(c.TabsList,{children:r.map(e=>(0,a.jsx)(c.TabsTrigger,{value:e,children:e},e))}),r.map(t=>(0,a.jsx)(c.TabsContent,{value:t,children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:e.filter(e=>"All"===t||e.category===t).map((e,t)=>(0,a.jsxs)(l.Zp,{className:"group overflow-hidden",children:[(0,a.jsxs)(l.Wu,{className:"relative p-0",children:[(0,a.jsx)(i.default,{src:`${f}${e.image_url}`,alt:e.title??"Gallery image",width:600,height:400,className:"aspect-video w-full object-cover transition-transform duration-300 group-hover:scale-105"}),(0,a.jsx)("div",{className:"absolute right-2 top-2",children:(0,a.jsxs)(u.DropdownMenu,{children:[(0,a.jsx)(u.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full bg-background/70 hover:bg-background",children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})}),(0,a.jsx)(u.DropdownMenuContent,{align:"end",children:(0,a.jsx)(u.DropdownMenuItem,{className:"text-destructive cursor-pointer",onClick:()=>h(e.image_id),children:"Delete Image"})})]})})]}),(0,a.jsx)(l.wL,{className:"p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:e.title??"Untitled"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.category??"Uncategorized"})]})})]},e.image_id??t))})},t))]})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[60vh] space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"No images found."}),(0,a.jsx)(d.$,{asChild:!0,children:(0,a.jsxs)(o(),{href:"/gallery/new",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Upload New Image"]})})]})}},79551:e=>{"use strict";e.exports=require("url")},83729:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(2146).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},83892:(e,t,r)=>{Promise.resolve().then(r.bind(r,84764))},84764:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\kiwenda_complete\\\\kiwenda\\\\src\\\\app\\\\(admin)\\\\gallery\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\DELL\\OneDrive\\Desktop\\kiwenda_complete\\kiwenda\\src\\app\\(admin)\\gallery\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,198,658,337,786,633],()=>r(42668));module.exports=a})();