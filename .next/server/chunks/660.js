"use strict";exports.id=660,exports.ids=[660],exports.modules={15079:(e,a,s)=>{s.d(a,{bq:()=>x,eb:()=>h,gC:()=>u,l6:()=>c,yv:()=>m});var t=s(60687),r=s(43210),l=s(72951),n=s(61662),d=s(89743),i=s(58450),o=s(4780);let c=l.bL;l.YJ;let m=l.WT,x=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.l9,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.l9.displayName;let p=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(d.A,{className:"h-4 w-4"})}));p.displayName=l.PP.displayName;let f=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})}));f.displayName=l.wn.displayName;let u=r.forwardRef(({className:e,children:a,position:s="popper",...r},n)=>(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,t.jsx)(p,{}),(0,t.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(f,{})]})}));u.displayName=l.UC.displayName,r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.JU.displayName;let h=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.q7,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:a})]}));h.displayName=l.q7.displayName,r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.wv.displayName},21660:(e,a,s)=>{s.d(a,{A:()=>N});var t=s(60687),r=s(63442),l=s(27605),n=s(43214),d=s(29523),i=s(71669),o=s(89667),c=s(44493),m=s(15079),x=s(34729),p=s(55817),f=s(916),u=s(16189),h=s(43210),j=s(4780);let g=n.Ik({name:n.Yj().min(1),text:n.Yj().min(1),status:n.k5(["Pending","Approved"]),rating:n.ai().min(1).max(5),avatar:n.bz().optional()});function N({initialData:e,isEditMode:a=!1}){let s=(0,u.useRouter)(),[n,N]=(0,h.useState)(!1),y=(0,l.mN)({resolver:(0,r.u)(g),defaultValues:e?{name:e.name,text:e.text.replace(/"/g,""),status:e.status,rating:e.rating}:{name:"",text:"",status:"Pending",rating:5}});async function v(t){try{N(!0);let r=new FormData;r.append("patient_name",t.name),r.append("message",t.text),r.append("status",t.status),r.append("rating",t.rating.toString()),t.avatar?.length&&r.append("photo",t.avatar[0]);let l=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000",n=a?`${l}/testimonials/${e.id}`:`${l}/testimonials/add`,d=await fetch(n,{method:a?"PUT":"POST",body:r}),i=await d.json();if(!d.ok)throw Error(i.error||"Server error");s.push("/testimonials")}catch(e){alert(e.message)}finally{N(!1)}}return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(d.$,{variant:"outline",size:"icon",onClick:()=>s.back(),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-headline text-xl font-bold",children:a?"Edit Testimonial":"Add Testimonial"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a?"Update testimonial details.":"Create a new testimonial."})]})]}),(0,t.jsx)(c.Zp,{children:(0,t.jsx)(c.Wu,{className:"pt-6",children:(0,t.jsx)(i.lV,{...y,children:(0,t.jsxs)("form",{onSubmit:y.handleSubmit(v),className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[(0,t.jsx)("div",{className:"col-span-1 space-y-8 md:col-span-2",children:(0,t.jsx)(i.zB,{control:y.control,name:"text",render:({field:e})=>(0,t.jsxs)(i.eI,{children:[(0,t.jsx)(i.lR,{children:"Testimonial Content"}),(0,t.jsx)(i.MJ,{children:(0,t.jsx)(x.T,{className:"min-h-[200px]",...e})}),(0,t.jsx)(i.C5,{})]})})}),(0,t.jsxs)("div",{className:"col-span-1 space-y-8",children:[(0,t.jsx)(i.zB,{control:y.control,name:"name",render:({field:e})=>(0,t.jsxs)(i.eI,{children:[(0,t.jsx)(i.lR,{children:"Patient Name"}),(0,t.jsx)(i.MJ,{children:(0,t.jsx)(o.p,{...e})}),(0,t.jsx)(i.C5,{})]})}),(0,t.jsx)(i.zB,{control:y.control,name:"rating",render:({field:e})=>(0,t.jsxs)(i.eI,{children:[(0,t.jsx)(i.lR,{children:"Rating"}),(0,t.jsx)(i.MJ,{children:(0,t.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(a=>(0,t.jsx)(f.A,{className:(0,j.cn)("h-6 w-6 cursor-pointer",e.value>=a?"text-yellow-500 fill-yellow-500":"text-gray-300"),onClick:()=>e.onChange(a)},a))})}),(0,t.jsx)(i.C5,{})]})}),(0,t.jsx)(i.zB,{control:y.control,name:"status",render:({field:e})=>(0,t.jsxs)(i.eI,{children:[(0,t.jsx)(i.lR,{children:"Status"}),(0,t.jsxs)(m.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,t.jsx)(i.MJ,{children:(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{})})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Pending",children:"Pending"}),(0,t.jsx)(m.eb,{value:"Approved",children:"Approved"})]})]}),(0,t.jsx)(i.C5,{})]})}),(0,t.jsx)(i.zB,{control:y.control,name:"avatar",render:({field:e})=>(0,t.jsxs)(i.eI,{children:[(0,t.jsx)(i.lR,{children:"Photo"}),(0,t.jsx)(i.MJ,{children:(0,t.jsx)(o.p,{type:"file",accept:"image/*",onChange:a=>e.onChange(a.target.files)})}),(0,t.jsx)(i.Rr,{children:"Optional."})]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(d.$,{variant:"outline",type:"button",onClick:()=>s.push("/testimonials"),children:"Cancel"}),(0,t.jsx)(d.$,{type:"submit",disabled:n,children:n?"Saving...":a?"Save Changes":"Add Testimonial"})]})]})})})})]})}},34729:(e,a,s)=>{s.d(a,{T:()=>n});var t=s(60687),r=s(43210),l=s(4780);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));n.displayName="Textarea"},44493:(e,a,s)=>{s.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>d,wL:()=>m});var t=s(60687),r=s(43210),l=s(4780);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let d=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));d.displayName="CardHeader";let i=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle";let o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},71669:(e,a,s)=>{s.d(a,{C5:()=>g,MJ:()=>h,Rr:()=>j,eI:()=>f,lR:()=>u,lV:()=>o,zB:()=>m});var t=s(60687),r=s(43210),l=s(8730),n=s(27605),d=s(4780),i=s(80013);let o=n.Op,c=r.createContext({}),m=({...e})=>(0,t.jsx)(c.Provider,{value:{name:e.name},children:(0,t.jsx)(n.xI,{...e})}),x=()=>{let e=r.useContext(c),a=r.useContext(p),{getFieldState:s,formState:t}=(0,n.xW)(),l=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=a;return{id:d,name:e.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...l}},p=r.createContext({}),f=r.forwardRef(({className:e,...a},s)=>{let l=r.useId();return(0,t.jsx)(p.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:s,className:(0,d.cn)("space-y-2",e),...a})})});f.displayName="FormItem";let u=r.forwardRef(({className:e,...a},s)=>{let{error:r,formItemId:l}=x();return(0,t.jsx)(i.Label,{ref:s,className:(0,d.cn)(r&&"text-destructive",e),htmlFor:l,...a})});u.displayName="FormLabel";let h=r.forwardRef(({...e},a)=>{let{error:s,formItemId:r,formDescriptionId:n,formMessageId:d}=x();return(0,t.jsx)(l.DX,{ref:a,id:r,"aria-describedby":s?`${n} ${d}`:`${n}`,"aria-invalid":!!s,...e})});h.displayName="FormControl";let j=r.forwardRef(({className:e,...a},s)=>{let{formDescriptionId:r}=x();return(0,t.jsx)("p",{ref:s,id:r,className:(0,d.cn)("text-sm text-muted-foreground",e),...a})});j.displayName="FormDescription";let g=r.forwardRef(({className:e,children:a,...s},r)=>{let{error:l,formMessageId:n}=x(),i=l?String(l?.message??""):a;return i?(0,t.jsx)("p",{ref:r,id:n,className:(0,d.cn)("text-sm font-medium text-destructive",e),...s,children:i}):null});g.displayName="FormMessage"},80013:(e,a,s)=>{s.d(a,{Label:()=>o});var t=s(60687),r=s(43210),l=s(78148),n=s(24224),d=s(4780);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.b,{ref:s,className:(0,d.cn)(i(),e),...a}));o.displayName=l.b.displayName}};